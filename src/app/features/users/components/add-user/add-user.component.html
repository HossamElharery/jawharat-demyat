<div class="modal-container">
  <div class="modal-header">
    <h2>{{ isEditMode ? 'Edit User' : 'Add New User' }}</h2>
    <button class="close-btn" (click)="onClose()">
      <i class="bi bi-x"></i>
    </button>
  </div>

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="form-group">
        <label for="userName">User Name</label>
        <input
          type="text"
          id="userName"
          class="form-control"
          formControlName="name"
          placeholder="Enter user name">
      </div>

      <div class="form-group">
        <label for="priority">Priority</label>
        <div class="custom-select">
          <select id="priority" class="form-control" formControlName="role">
            <option value="Admin">Admin</option>
            <option value="User">User</option>
            <option value="Guest">Guest</option>
          </select>
          <i class="bi bi-chevron-down"></i>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group phone-group">
        <label for="phone">Phone Number</label>
        <div class="phone-input">
          <div class="country-code">
            <img src="assets/images/uae-flag.png" alt="UAE flag">
            <span>(971+)</span>
          </div>
          <input
            type="text"
            id="phone"
            class="form-control"
            formControlName="phoneNumber"
            placeholder="Enter phone number">
        </div>
      </div>

      <div class="form-group">
        <label for="email">E-Mail</label>
        <input
          type="email"
          id="email"
          class="form-control"
          formControlName="email"
          placeholder="Enter email">
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        class="form-control"
        formControlName="password"
        placeholder="Enter password">
    </div>

    <div class="active-user-section">
      <div class="active-user-header">
        <h3>Active User <span>(Active)</span></h3>
        <div class="toggle-switch">
          <input
            type="checkbox"
            id="activeStatus"
            formControlName="isActive"
            class="toggle-input">
          <label for="activeStatus" class="toggle-label"></label>
        </div>
      </div>
      <p class="help-text">This user is currently active and has full access to the system (Role Permissions)</p>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-cancel" (click)="onClose()">Cancel</button>
      <button type="submit" class="btn btn-submit" [disabled]="!userForm.valid">
        {{ isEditMode ? 'Save Changes' : 'Add User' }}
      </button>
    </div>
  </form>
</div>
