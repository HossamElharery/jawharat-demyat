<!-- add-inventory.component.html -->
<div class="modal-container">
  <div class="modal-header">
    <h1>Add New Inventory</h1>
    <button type="button" class="close-btn" (click)="onClose()">
      <i class="bi bi-x"></i>
    </button>
  </div>

  <div class="modal-body">
    <form [formGroup]="inventoryForm">
      <!-- Inventory Type Selection -->
      <div class="form-section">
        <label>Select Inventory Type:</label>
        <div class="inventory-type-grid">
          <div class="inventory-card" [class.selected]="inventoryForm.get('type')?.value === 'Machine'" (click)="selectInventoryType('Machine')">
            <div class="card-content">
              <div class="text-content">
                <h3>Machine</h3>
                <p>Equipment Tracking Simplified</p>
              </div>
              <div class="radio-select">
                <div class="radio-circle" [class.selected]="inventoryForm.get('type')?.value === 'Machine'"></div>
              </div>
            </div>
          </div>

          <div class="inventory-card" [class.selected]="inventoryForm.get('type')?.value === 'Product'" (click)="selectInventoryType('Product')">
            <div class="card-content">
              <div class="text-content">
                <h3>Product</h3>
                <p>Effortless Goods Management</p>
              </div>
              <div class="radio-select">
                <div class="radio-circle" [class.selected]="inventoryForm.get('type')?.value === 'Product'"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Inventory Name -->
      <div class="form-section">
        <label>Inventory Name</label>
        <input type="text" formControlName="name" class="form-input">
      </div>

      <!-- Stock and Value -->
      <div class="form-row">
        <div class="form-section">
          <label>In Stock</label>
          <input type="number" formControlName="stock" class="form-input">
        </div>
        <div class="form-section">
          <label>Inventory Value</label>
          <input type="text" formControlName="value" class="form-input">
        </div>
      </div>

      <!-- Description -->
      <div class="form-section">
        <label>Description</label>
        <textarea formControlName="description" class="form-input" rows="6"></textarea>
      </div>

      <!-- Image Upload -->
      <div class="form-section">
        <label>Inventory Images</label>
        <div class="image-grid">
          <!-- Upload Box -->
          <div class="upload-box" (dragover)="onDragOver($event)" (drop)="onDrop($event)">
            <div class="upload-content">
              <i class="bi bi-image-fill"></i>
              <span class="upload-text">Click to upload</span>
              <span>or Drag and Drop</span>
              <span class="file-types">png, jpg or pdf</span>
            </div>
            <input type="file" class="file-input" (change)="onFileSelect($event)" multiple accept="image/*,.pdf">
          </div>

          <!-- Image Previews -->
          <div class="image-preview" *ngFor="let image of uploadedImages; let i = index">
            <img [src]="image.url" alt="Preview">
            <div class="image-actions">
              <button class="action-btn replace" (click)="replaceImage(i, $event)">
                <i class="bi bi-arrow-up-square"></i>
                Replace
              </button>
              <button class="action-btn remove" (click)="removeImage(i)">
                <i class="bi bi-trash"></i>
                Remove
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn-cancel" (click)="onClose()">Cancel</button>
    <button type="button" class="btn-submit" (click)="onSubmit()">Add Inventory</button>
  </div>
</div>
